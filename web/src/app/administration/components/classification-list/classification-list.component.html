<div class="classification-list">

	<!-- ACTION TOOLBAR -->
	<li class="list-group-item tab-align" id="wb-action-toolbar">
		<div class="row">
			<div class="btn-group">

				<button class="btn btn-default add-classification-button" type="button" (click)="addClassification()" data-toggle="tooltip" title="Add">
					<span class="material-icons md-20 green-blue">add_circle_outline</span>
				</button>

				<taskana-administration-import-export
						class ="btn-group" [currentSelection]="taskanaType.CLASSIFICATIONS">
				</taskana-administration-import-export>

			</div>
			<div class="">
				<taskana-administration-classification-types-selector
						class="pull-right">
				</taskana-administration-classification-types-selector>
			</div>
		</div>
	</li>

	<!-- FILTER -->
	<div class="category-filter">

    <button mat-icon-button [matMenuTriggerFor]="menu">
      <svg-icon class="categories" [src]="(getCategoryIcon(selectedCategory) | async)?.name" [title]="(getCategoryIcon(selectedCategory) | async)?.text"></svg-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="selectCategory('')">
        <svg-icon src="./assets/icons/asterisk.svg" [title]="(getCategoryIcon('all') | async)?.text"></svg-icon>
        <span>All</span>
      </button>
      <button mat-menu-item *ngFor="let category of categories$ | async" (click)="selectCategory(category)">
        <svg-icon class="categories" [src]="(getCategoryIcon(category) | async)?.name" [title]="(getCategoryIcon(category) | async)?.text"></svg-icon>
        <span> {{category}}</span>
      </button>
    </mat-menu>

  </div>
	<div>
		<input class="filter-input" [ngModel]="inputValue" (ngModelChange)="inputValue = $event" placeholder="Filter classifications">
	</div>

	<div class="horizontal-bottom-divider"></div>

	<!-- CLASSIFICATION TREE -->
	<taskana-shared-spinner class="col-xs-12" [isRunning]="requestInProgress" positionClass="centered-spinner-whole-screen"></taskana-shared-spinner>
	<taskana-administration-tree class="col-xs-12" *ngIf="(classifications && classifications.length) else empty_classifications"
                                 [filterText]="inputValue" [filterIcon]="selectedCategory" (switchTaskanaSpinnerEmit)="requestInProgress=$event"></taskana-administration-tree>
	<ng-template #empty_classifications>
		<div *ngIf="!requestInProgress" class="col-xs-12 container-no-items center-block no-classifications">
			<h3 class="grey">There are no classifications</h3>
			<svg-icon class="img-responsive empty-icon" src="./assets/icons/classification-empty.svg"></svg-icon>
		</div>
	</ng-template>
</div>
