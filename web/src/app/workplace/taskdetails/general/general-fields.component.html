<ng-container *ngIf="task && !requestInProgress">
  <form #TaskForm="ngForm">
    <div class="col-md-12">
      <div class="form-group">
        <label for="task-description" class="control-label">Description</label>
        <textarea class="form-control" id="task-description"
                  placeholder="Task has no description"
                  [(ngModel)]="task.description"
                  name="task.description"></textarea>
      </div>
    </div>

    <div class="col-md-6">
      <div class="form-group required">
        <label for="task-objectRef-company" class="control-label">Reference Company</label>
        <input type="text" class="form-control" id="task-objectRef-company" required
               placeholder="Company description not provided"
               [(ngModel)]="task.primaryObjRef.company"
               name="task-objectRef-company">
      </div>
      <div class="form-group required">
        <label for="task-objectRef-system" class="control-label">Reference System</label>
        <input type="text" class="form-control" id="task-objectRef-system" required
               placeholder="System description not provided"
               [(ngModel)]="task.primaryObjRef.system"
               name="task-objectRef-system">
      </div>
      <div class="form-group required">
        <label for="task-objectRef-system-instance" class="control-label">Reference System Instance</label>
        <input type="text" class="form-control" id="task-objectRef-system-instance" required
               placeholder="System Instance description not provided"
               [(ngModel)]="task.primaryObjRef.systemInstance"
               name="task-objectRef-system-instance">
      </div>
      <div class="form-group">
        <label for="task-owner" class="control-label">Owner</label>
        <input type="text" class="form-control" id="task-owner"
               placeholder="Task has no owner"
               [(ngModel)]="task.owner"
               name="task.owner">
      </div>
      <div class="form-group">
        <label for="task-priority" disabled class="control-label">Priority</label>
        <input type="text" class="form-control" id="task-priority"
               placeholder="Task has no priority"
               [(ngModel)]="task.priority"
               name="task.priority">
      </div>
      <div class="form-group">
        <label for="task-note" class="control-label">Note</label>
        <input type="text" class="form-control" id="task-note"
               placeholder="Task has no Note"
               [(ngModel)]="task.note"
               name="task.note">
      </div>
      <div *ngIf="task.taskId" class="form-group">
        <label for="task-modified" class="control-label">Modification Date</label>
        <input type="text" disabled class="form-control" id="task-modified"
               placeholder="Task has not been modified"
               [ngModel]="task.modified | datePipe:'simple'"
               name="task.modified">
      </div>
      <div *ngIf="task.taskId" class="form-group">
        <label for="task-completed" class="control-label">Completion Date</label>
        <input type="text" disabled class="form-control" id="task-completed"
               placeholder="Task has not been completed"
               [ngModel]="task.completed | datePipe:'simple'"
               name="task.completed">
      </div>
      <div *ngIf="task.taskId" class="form-group">
        <label for="task-state" class="control-label">State</label>
        <input type="text" disabled class="form-control" id="task-state"
               placeholder="Task has no State"
               [(ngModel)]="task.state"
               name="task.state">
      </div>
      <div *ngIf="task.taskId" class="form-group">
        <label for="task-read" class="control-label">Task Read?</label>
        <input type="text" disabled class="form-control" id="task-read"
               placeholder="Task not been read"
               [ngModel]="task.read"
               name="task.read">
      </div>
    </div>

    <div class="col-md-6">
      <div class="form-group required">
        <label for="task-objectRef-type" class="control-label">Reference Type</label>
        <input type="text" class="form-control" id="task-objectRef-type" required
               placeholder="Reference Type is not provided"
               [(ngModel)]="task.primaryObjRef.type"
               name="task-objectRef-type">
      </div>
      <div class="form-group required">
        <label for="task-objectRef-value" class="control-label">Reference Value</label>
        <input type="text" class="form-control" id="task-objectRef-value" required
               placeholder="Reference Value is not provided"
               [(ngModel)]="task.primaryObjRef.value"
               name="task-objectRef-value">
      </div>
      <div class="form-group required">
        <div class="dropdown clearfix btn-group">
          <label for="classificationDropdownMenu" class="control-label">Classification</label><br>
          <button class="btn btn-default" type="button" id="classificationDropdownMenu" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="true">
            {{task.classificationSummaryResource ? selectedClassification.name :
            'Task does not belong to a Classification'}}
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
            <li>
              <a *ngFor="let classification of classifications" (click)="selectClassification(classification)">
                {{classification.name}}
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="form-group">
        <label for="task-parent-business-p-id" class="control-label">Parent Business Process ID</label>
        <input type="text" class="form-control" id="task-parent-business-p-id"
               placeholder="Task has no Parent Business Process ID"
               [(ngModel)]="task.parentBusinessProcessId"
               name="task.parentBusinessProcessId">
      </div>
      <div class="form-group">
        <label for="task-business-p-id" class="control-label">Business Process ID</label>
        <input type="text" class="form-control" id="task-business-p-id"
               placeholder="Task has no Business Process ID"
               [(ngModel)]="task.businessProcessId"
               name="task.businessProcessId">
      </div>
      <div class="form-group">
        <label for="task-due" class="control-label">Due Date</label>
        <input type="text" class="form-control" id="task-due"
               placeholder="Format: yyyy-MM-dd"
               [ngModel]="task.due | datePipe:'simple'" (ngModelChange)="validateDate($event)"
               name="task.due">
      </div>
      <div *ngIf="task.taskId" class="form-group">
        <label for="task-claimed" class="control-label">Claim Date</label>
        <input type="text" disabled class="form-control" id="task-claimed"
               placeholder="Task has not been claimed"
               [ngModel]="task.claimed | datePipe:'simple'"
               name="task.claimed">
      </div>
      <div *ngIf="task.taskId" class="form-group">
        <label for="task-planned" class="control-label">Planned Date</label>
        <input type="text" disabled class="form-control" id="task-planned"
               placeholder="Task has no planned date set"
               [ngModel]="task.planned | datePipe:'simple'"
               name="task.planned">
      </div>
      <div *ngIf="task.taskId" class="form-group">
        <label for="task-created" class="control-label">Creation Date</label>
        <input type="text" disabled class="form-control" id="task-created"
               placeholder="Task has not been created"
               [ngModel]="task.created | datePipe:'simple'"
               name="task.created">
      </div>
      <div *ngIf="task.taskId" class="form-group">
        <label for="task-transferred" class="control-label">Task Transferred?</label>
        <input type="text" disabled class="form-control" id="task-transferred"
               placeholder="Task not been transferred"
               [(ngModel)]="task.transferred"
               name="task.transferred">
      </div>
    </div>
  </form>
</ng-container>
